<%= form_for(@trip) do |f| %>
  <% if @trip.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@trip.errors.count, "error") %> prohibited this trip from being saved:</h2>

      <ul>
      <% @trip.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <p>
    <%= f.label :origin %><br />
    <%= f.text_field :origin %>
  </p>
  <p>
    <%= f.label :destination %><br />
    <%= f.text_field :destination %>
  </p>

      <%= f.fields_for :markers do |builder| %>
      <p>
      <%= builder.label :address, "Address" %><br />
      <%= builder.text_field :address %>
    </p>
    <% end %>
    <%= f.fields_for :seats do |builder| %>
    <%= render 'seat_fields', :f =>builder %>
    <% end %>
    <p><%= link_to_add_fields "Add Seat", f, :seats %></p>
  <p>
    <%= f.label :seat_number, "Number of Seats"%><br />
    <%= f.select :seat_number, (1..10) %>
  </p>
  <p>
    <%= f.submit "Submit" %>
  </p>

<% end %>
